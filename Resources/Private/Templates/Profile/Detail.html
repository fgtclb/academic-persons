<html
    data-namespace-typo3-fluid="true"
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
>
<h1>
    {profile.firstName} {profile.lastName}
</h1>

<f:if condition="{profile.image}">
    <f:image image="{profile.image}" maxWidth="500" maxHeight="500" alt="{profile.firstName} {profile.lastName}" />
</f:if>

<p>
    <f:if condition="{profile.gender}">{profile.gender}</f:if>
    <f:if condition="{profile.title}">{profile.title}</f:if>
    {profile.firstName}{f:if(condition: profile.middleName, then: ' {profile.middleName}')} {profile.lastName}
</p>

<h2>Contracts</h2>

<f:for each="{profile.contracts}" as="contract">
    Employee Type: {contract.employeeType.title}<br />
    <br />
    <h3>Contact</h3>
    Position: {contract.position}<br />
    Room: {contract.room}<br />
    <br />
    <h4>Addresses</h4>
    <f:for each="{contract.physicalAddresses}" as="physicalAddress">
        {physicalAddress.street} {physicalAddress.streetNumber}<br />
        <f:if condition="{physicalAddress.additional}">{physicalAddress.additional}<br /></f:if>
        {physicalAddress.zip} {physicalAddress.city}<br />
        <f:if condition="{physicalAddress.state}">{physicalAddress.state}<br /></f:if>
        <f:if condition="{physicalAddress.country}">{physicalAddress.country}</f:if><br />
    </f:for>
    <br />
    <h4>Email address</h4>
    <f:for each="{contract.emailAddresses}" as="emailAddress">
        {emailAddress.email} ({emailAddress.type})<br />
    </f:for>
    <br />
    <h4>Phone / Fax</h4>
    <f:for each="{contract.phoneNumbers}" as="phoneNumber">
        {phoneNumber.phoneNumber} ({phoneNumber.type})<br />
    </f:for>
</f:for>

<h2>Additional Information</h2>

<f:if condition="{profile.website} && {profile.websiteTitle}">
  <f:then>
    Website: <a href="{profile.website}" target="_blank">{profile.websiteTitle}</a>
  </f:then>
  <f:else>
    Website: <a href="{profile.website}" target="_blank">{profile.website}</a>
  </f:else>
</f:if>

<br />

<h3>Teaching Area</h3>
<f:format.html>{profile.teachingArea}</f:format.html>

<h3>Main topics/core competencies</h3>
<f:format.html>{profile.coreCompetences}</f:format.html>

<f:if condition="{profile.memberships}">
    <h3>Offices/committees/memberships</h3>
    <f:for each="{profile.memberships}" as="membership">
        <h4>{membership.year}: {membership.title}</h4>
        <p>{membership.bodytext -> f:format.nl2br()}</p>
        <f:if condition="{membership.link}">
            <p>
                <f:link.external uri="{membership.link}">{membership.title}</f:link.external>
            </p>
        </f:if>
    </f:for>
</f:if>

<f:if condition="{profile.supervisedThesis}">
    <h3>Supervised theses</h3>
    <f:format.html>{profile.supervisedThesis}</f:format.html>
</f:if>

<f:if condition="{profile.supervisedDoctoralThesis}">
    <h3>Supervised doctoral theses</h3>
    <f:format.html>{profile.supervisedDoctoralThesis}</f:format.html>
</f:if>

<f:if condition="{profile.vita}">
    <h3>Vita</h3>
    <f:for each="{profile.vita}" as="vita">
        <h4>{vita.year}: {vita.title}</h4>
        <p>{vita.bodytext -> f:format.nl2br()}</p>
    </f:for>
</f:if>

<f:if condition="{profile.publications}">
    <h3>Publications</h3>
    <f:for each="{profile.publications}" as="publication">
        <h4>{publication.year}: {publication.title}</h4>
        <f:format.raw>{publication.bodytext}</f:format.raw>
        <f:if condition="{publication.link} && ">
            <p>
                <f:link.external uri="{publication.link}">{publication.title}</f:link.external>
            </p>
        </f:if>
    </f:for>
</f:if>

<f:if condition="{profile.publicationsLink} && {profile.publicationsLinkTitle}">
	<f:then>
    Link to publications: <a href="{profile.publicationsLink}" target="_blank">{profile.publicationsLinkTitle}</a>
	</f:then>
	<f:else>
    Link to publications: <a href="{profile.publicationsLink}" target="_blank">{profile.publicationsLink}</a>
	</f:else>
</f:if>

<f:if condition="{profile.miscellaneous}">
    <h3>Miscellaneous information</h3>
    <f:format.html>{profile.miscellaneous}</f:format.html>
</f:if>

<f:if condition="{profile.cooperation}">
    <h3>Networks and Cooperation</h3>
    <f:for each="{profile.cooperation}" as="cooperation">
        <h4>{cooperation.year}: {cooperation.title}</h4>
        <f:format.raw>{cooperation.bodytext}</f:format.raw>
        <f:if condition="{cooperation.link}">
            <p>
                <f:link.external uri="{cooperation.link}">{cooperation.title}</f:link.external>
            </p>
        </f:if>
    </f:for>
</f:if>

<f:if condition="{profile.lectures}">
    <h3>Lectures</h3>
    <f:for each="{profile.lectures}" as="lecture">
        <h4>{lecture.year}: {lecture.title}</h4>
        <f:format.raw>{lecture.bodytext}</f:format.raw>
        <f:if condition="{lecture.link}">
            <p>
                <f:link.external uri="{lecture.link}">{lecture.title}</f:link.external>
            </p>
        </f:if>
    </f:for>
</f:if>

</html>
